(this.webpackJsonpmap=this.webpackJsonpmap||[]).push([[0],{16:function(t,e,n){},23:function(t,e,n){},24:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n(0),r=n.n(o),c=n(11),l=n.n(c),s=(n(23),n(15)),i=n(2),u=(n(16),n(17)),h=n(26),j=n(27),b=n(28),d=n(32),g=n(29),f=n(30),p=n(31),O=n(7),v={7:"\uac00",8:"\ub098",9:"\ub2e4",10:"\ub77c",11:"\ub9c8",12:"\ubc14",13:"\uc0ac"},m={13:"\uac00",14:"\ub098",15:"\ub2e4",16:"\ub77c",17:"\ub9c8",18:"\ubc14",19:"\uc0ac",20:"\uc544"},S="+proj=tmerc +lat_0=38 +lon_0=127.5 +k=0.9996 +x_0=1000000 +y_0=2000000 +ellps=GRS80 +units=m +no_defs",x="+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees",M=function(t){var e=Object(O.a)(x,S,t),n=parseInt(e[0].toString().split(".")[0]),a=parseInt(e[1].toString().split(".")[0]);return[v[Math.floor(Math.floor(n)/1e5)]+m[Math.floor(Math.floor(a)/1e5)],Math.floor(n%1e5/10),Math.floor(a%1e5/10)]},y=function(t){var e=Object(O.a)(x,S,t),n=1e5,a={7:[13,21],8:[13,20],9:[14,21],10:[15,21],11:[15,21],12:[17,21],13:[18,21]};e[0]=Math.round(e[0]),e[1]=Math.round(e[1]);var o=Math.floor(e[0]/n);return void 0!==a[o]&&e[1]>=a[o][0]*n&&e[1]<a[o][1]*n},N=function(t,e){var n,a,o="";switch(t){case 1e5:o=e[0];break;case 1e4:n=Math.floor(e[1]/1e3).toString(),a=Math.floor(e[2]/1e3).toString(),o="".concat(e[0]," ").concat(n,"XXX ").concat(a,"XXX");break;case 1e3:n=Math.floor(e[1]/100).toString(),a=Math.floor(e[2]/100).toString(),o="".concat(e[0]," ").concat(n.toString().padStart(2,"0"),"XX ").concat(a.toString().padStart(2,"0"),"XX");break;case 100:n=Math.floor(e[1]/10).toString(),a=Math.floor(e[2]/10).toString(),o="".concat(e[0]," ").concat(n.toString().padStart(3,"0"),"X ").concat(a.toString().padStart(3,"0"),"X");break;case 10:o="".concat(e[0]," ").concat(e[1].toString().padStart(4,"0")," ").concat(e[2].toString().padStart(4,"0"))}return o},C={converterToCbc:M,lineArray:function(t,e,n){for(var a=[],o=Object(O.a)(x,S,[e.lng,e.lat]),r=Object(O.a)(x,S,[n.lng,n.lat]),c=1e5,l=function(t,e,n,a,o){var r,c=1e5;e=e>7*c?e:7*c,n=n>15*c?15*c:n,a=a>13*c?a:13*c,o=o>22*c?22*c:o,e=Math.floor(e/t)*t<e?(Math.floor(e/t)-1)*t:Math.floor(e/t)*t,a=Math.floor(a/t)*t<a?(Math.floor(a/t)-1)*t:Math.floor(a/t)*t,n=Math.floor(n/t)*t<n?(Math.floor(n/t)+1)*t:Math.floor(n/t)*t,o=Math.floor(o/t)*t<o?(Math.floor(o/t)+1)*t:Math.floor(o/t)*t;for(var l=[],s=e;s<=n;s+=t){for(var i=[],u=a;u<=o;u+=t)r=Object(O.a)(S,x,[s,u]),i.push(r);l.push(i)}return l}(c=t>19?10:t>16?100:t>13?1e3:t>10?1e4:1e5,o[0],r[0],o[1],r[1]),s=0;s<l.length;s++)for(var i=0;i<l[0].length;i++)if(s<l.length-1&&i<l[s].length-1){var u=l[s][i];if(y(u)){var h=l[s+1][i],j=l[s][i+1],b=l[s+1][i+1],d=M([(b[0]+u[0])/2,(b[1]+u[1])/2]),g="";void 0!==d&&(g=N(c,d)),a.push({latLongArr:[[u[1],u[0]],[h[1],h[0]],[b[1],b[0]],[j[1],j[0]]],id:t.toString()+"."+l[s][i]+"y",cbcText:g})}}return a},converterToLatLng:function(t){var e,n,a=t.split(" ");if(Object.keys(v).forEach((function(t){v[parseInt(t)]===a[0].charAt(0)&&(e=parseInt(t))})),Object.keys(m).forEach((function(t){m[parseInt(t)]===a[0].charAt(1)&&(n=parseInt(t))})),null===e||null===n||a[1].length!==a[2].length)return-1;var o=a[1].length+1;return e=Math.pow(10,o)*e+parseInt(a[1])*Math.pow(10,6-o)+5,n=Math.pow(10,o)*n+parseInt(a[2])*Math.pow(10,6-o)+5,Object(O.a)(S,x,[e,n])}},L=n(3),k=function(t){var e=t.zoomLevel,n=t.setMenuState,r=Object(o.useState)(e),c=Object(i.a)(r,2),l=c[0],s=c[1],b=Object(o.useState)([]),d=Object(i.a)(b,2),g=d[0],f=d[1],p=Object(u.a)(),O=!0,v=Object(u.b)({zoomend:function(){s(v.getZoom()),n(!1),f(C.lineArray(l,p.getBounds().getSouthWest(),p.getBounds().getNorthEast()))},moveend:function(){f(C.lineArray(l,p.getBounds().getSouthWest(),p.getBounds().getNorthEast()))},dragstart:function(){n(!1)}});return p.whenReady((function(){O&&(g=C.lineArray(l,p.getBounds().getSouthWest(),p.getBounds().getNorthEast()),O=!1)})),0!==g.length?Object(a.jsx)("div",{children:g.map((function(t){var e=t.id,n=t.latLongArr,o=t.cbcText;return Object(a.jsx)(h.a,{positions:n,color:"white",eventHandlers:{click:function(t){console.log([t.latlng.lat,t.latlng.lng]),C.converterToCbc([t.latlng.lng,t.latlng.lat])}},children:Object(a.jsx)(j.a,{direction:"bottom",opacity:1,permanent:!0,children:Object(a.jsx)("span",{children:o})})},e)}))}):null},A=function(t){var e=t.latLng,n=t.zoomLevel,r=t.setMenuState,c=Object(o.useState)([e.lat,e.lng]),l=Object(i.a)(c,2),s=l[0],u=l[1],h=C.converterToCbc([e.lng,e.lat]);return Object(o.useEffect)((function(){u([e.lat,e.lng])}),[e]),Object(a.jsx)("div",{className:"contents",children:Object(a.jsxs)(b.a,{style:{height:"100vh"},center:s,zoom:n,scrollWheelZoom:!0,children:[Object(a.jsx)(d.a,{maxZoom:22,maxNativeZoom:18,attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://api.vworld.kr/req/wmts/1.0.0/532CA96F-C19D-3423-A745-FA04E44726C4/midnight/{z}/{y}/{x}.png"}),Object(a.jsx)(k,{zoomLevel:n,setMenuState:r}),Object(a.jsx)(g.a,{children:function(t){return t.setView(new L.LatLng(e.lat,e.lng),n),null}}),Object(a.jsx)(f.a,{position:s,children:Object(a.jsx)(p.a,{children:Object(a.jsxs)("span",{className:"popupSpan",children:[Object(a.jsx)("b",{children:"".concat(h[0]," ").concat(h[1]," ").concat(h[2])}),Object(a.jsx)("br",{}),e.lat,", ",e.lng]})})})]})})},B=r.a.memo(A),w=function(t){var e=t.menuState,n=t.historyList,r=t.setAppState,c=t.setMenuState,l=Object(o.useState)(""),s=Object(i.a)(l,2),u=s[0],h=s[1],j=function(){/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&c(!0)};return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)("div",{className:"leftMenu",children:[Object(a.jsx)("div",{className:"title",children:"\uad6d\uac00\uc9c0\uc810\ubc88\ud638"}),Object(a.jsx)("div",{className:"developer",children:Object(a.jsx)("a",{href:"https://doqtqu.tistory.com/186",children:"\xa9doqtqu"})})]}),Object(a.jsxs)("div",{className:"search-div",children:[Object(a.jsxs)("form",{className:"search",onSubmit:function(t){t.preventDefault();var e,n,a=u.split(",");if(2===a.length)if(e=parseFloat(a[0]),n=parseFloat(a[1]),isNaN(e)||isNaN(n)||!(e>31&&e<39)||!(n>124&&n<133))alert("ex. '32.66367, 124.43291'");else{var o=C.converterToCbc([n,e]);r(e,n,"".concat(o[0]," ").concat(o[1]," ").concat(o[2]),null,!0)}else if(3===(a=u.split(" ")).length){var c="string"===typeof a[0]&&2===a[0].length&&Object.values(v).includes(a[0][0])&&Object.values(m).includes(a[0][1]),l="number"===typeof parseInt(a[1])&&4===a[1].length,s="number"===typeof parseInt(a[2])&&4===a[2].length;if(!(c&&l&&s))return void alert("ex. '\uac00\uac00 1234 1234'");var i=C.converterToLatLng(u);-1===i?alert("ex. \uac00\uac00 1234 1234"):(n=i[0],e=i[1],r(e,n,u,null,!0))}else alert("ex. '32.66367, 124.43291' or '\uac00\uac00 1234 1234'")},children:[Object(a.jsx)("input",{onFocus:j,onBlur:j,type:"text",value:u,placeholder:"32.66367, 124.43291 or \uac00\uac00 1234 1234",onChange:function(t){return h(t.target.value)}}),Object(a.jsx)("input",{type:"submit",value:"\uac80\uc0c9"}),Object(a.jsx)("div",{className:e?"historyOpen":"historyClose",children:function(t,e){return Object(a.jsx)("div",{children:t.map((function(t,n){var o=t.lng,r=t.lat,c=t.cbcCode;return Object(a.jsxs)("div",{className:"historyList",onClick:function(t){e(r,o,c,null,!0),h(c)},children:[Object(a.jsx)("img",{src:"/CountryBranchCode/images/marker.png",alt:""}),Object(a.jsxs)("div",{className:"codeDiv",children:[Object(a.jsx)("div",{className:"cbcCode",children:c}),Object(a.jsxs)("div",{className:"latlng",children:[r.toFixed(5),", ",o.toFixed(5)]})]})]},n)}))})}(n,r)})]}),Object(a.jsx)("button",{className:"toggleBtn",onClick:function(){return c(!e)},children:Object(a.jsx)("i",{className:"fas fa-history lg"})})]})]})};var I=function(){var t=Object(o.useState)({lat:36.37216,lng:127.36035}),e=Object(i.a)(t,2),n=e[0],r=e[1],c=Object(o.useState)(7),l=Object(i.a)(c,2),u=l[0],h=l[1],j=Object(o.useState)(!1),b=Object(i.a)(j,2),d=b[0],g=b[1],f=Object(o.useState)([]),p=Object(i.a)(f,2),O=p[0],v=p[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(w,{menuState:d,historyList:O,setAppState:function(t,e,a,o,c){var l=Object(s.a)(O);if(null===o&&(o=21),null===t)t=n.lat;else if(null===e)e=n.lng;else{var i=l.filter((function(n){return n.lat===t&&n.lng===e}));0===i.length&&(i=[{cbcCode:a,lat:t,lng:e}]);var u=l.filter((function(n){return n.lat!==t||n.lng!==e}));l=[i[0]].concat(Object(s.a)(u))}r({lat:t,lng:e}),h(o),g(c),v(l)},setMenuState:g}),Object(a.jsx)(B,{latLng:n,zoomLevel:u,setMenuState:g})]})},X=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(e){var n=e.getCLS,a=e.getFID,o=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),a(t),o(t),r(t),c(t)}))};l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root")),X()}},[[24,1,2]]]);
//# sourceMappingURL=main.8d11c4c0.chunk.js.map